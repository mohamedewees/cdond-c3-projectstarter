---
  - name: install rsync on the ansible controller
    become: true
    connection: local
    package:
      name: 
        - openssh
        - rsync
      state: present
      
  - name: "move files to server"
    become: true
    synchronize:
      src: /root/project/backend/dist
      dest: ./udapeople
      recursive: true

  - name: "move node modules"
    become: true
    synchronize:
      src: /root/project/backend/node_modules
      dest: ./udapeople
      recursive: true

  - name: "install apps"
    become: true
    npm:
      name: pm2
      global: yes
    